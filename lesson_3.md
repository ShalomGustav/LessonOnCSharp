
# Урок 3. Ключевое слово tryParse. Тип данных char. Сравнение Parse и tryParse. 

### Теория

На этом уроке мы рассмотрим следующие разделы:
- Что такое `Parse` и почему его использование может быть небезопасным.
- Метод `TryParse` и его особенности.
- Ключевое слово `out` и его использование.
- Конструкция `out var` для упрощения работы с `TryParse`.
- Тип данных `char` и его преобразования.
- Сравнение `Parse` и `TryParse`.

---

## 1. Что такое Parse и почему его использование небезопасно?

Метод `Parse` используется для преобразования строки в число или другой тип данных. Его синтаксис:
```csharp
тип_данных.Parse(строка);
```

Пример:
```csharp
string text = "123";
int number = int.Parse(text);
Console.WriteLine(number); // Результат: 123
```

### Основная проблема `Parse`

Если строка не может быть преобразована в указанный тип данных (например, она содержит буквы или символы), метод вызовет исключение (`FormatException`), что приведет к завершению программы.

Пример:
```csharp
string text = "abc";
int number = int.Parse(text); // Ошибка: FormatException
```

Поэтому использование `Parse` считается небезопасным в ситуациях, где содержимое строки заранее неизвестно.

## 2. Метод TryParse

`TryParse` — это безопасная альтернатива `Parse`, которая позволяет избежать исключений. Вместо этого метод возвращает `true`, если преобразование прошло успешно, и `false`, если преобразование не удалось.

### Синтаксис
```csharp
тип_данных.TryParse(строка, out переменная);
```

### Преимущества TryParse
- Предотвращает ошибки выполнения программы.
- Легко определить, удалось ли преобразование.

### Примеры использования TryParse

#### Пример 1: Успешное преобразование
```csharp
string text = "123";
int.TryParse(text, out int number);
Console.WriteLine(number); // Результат: 123
```

#### Пример 2: Неудачное преобразование
```csharp
string text = "abc";
int.TryParse(text, out int number);
Console.WriteLine(number); // Результат: 0 (значение по умолчанию)
```

## 3. Ключевое слово `out`

Ключевое слово `out` используется для передачи параметров в метод и возвращения значений через эти параметры. С `TryParse` оно указывает переменную, в которую будет записан результат преобразования.

### Пример
```csharp
string text = "42";
int result;
bool success = int.TryParse(text, out result);
Console.WriteLine($"Успех: {success}, Результат: {result}"); // Успех: True, Результат: 42
```

## 4. Конструкция out var

Для сокращения кода с `out` можно использовать `out var`, чтобы не объявлять переменную заранее.

### Пример
```csharp
string text = "100";
if (int.TryParse(text, out var number))
{
    Console.WriteLine($"Число: {number}");
}
```


## 5. Тип данных Char

`char` — это тип данных, представляющий один символ. Символ записывается в одинарных кавычках (`'A'`). Его можно преобразовать в строку или число.

### Примеры работы с char

#### Преобразование строки в символ
```csharp
string text = "A";
char letter = text[0];
Console.WriteLine(letter); // Результат: A
```

#### Проверка числового значения символа
Каждый символ имеет числовое представление в таблице Unicode.
```csharp
char letter = 'A';
Console.WriteLine((int)letter); // Результат: 65
```

#### Преобразование символа в число
```csharp
char digit = '5';
int number = int.Parse(digit.ToString());
Console.WriteLine(number); // Результат: 5
```

## 6. Отличия Parse и TryParse

| Характеристика      | Parse                   | TryParse                |
|---------------------|-------------------------|-------------------------|
| **Исключения**      | Генерирует исключение при ошибке. | Не вызывает исключений. |
| **Возврат результата** | Возвращает преобразованное значение. | Возвращает `true`/`false` и записывает результат через `out`. |
| **Безопасность**    | Использовать небезопасно, если строка неизвестна. | Более безопасный вариант. |
| **Пример**          | `int.Parse("123")`     | `int.TryParse("123", out var result)` |


## Полезные советы

1. Всегда используйте `TryParse`, если не уверены в содержимом строки.
2. Используйте `Parse` только в тех случаях, когда строка точно соответствует ожидаемому формату.
3. Не забывайте про ключевое слово `out` и конструкцию `out var` для упрощения кода.
4. Тип `char` удобен для работы с отдельными символами и может быть преобразован в строку или число.
5. Проверяйте региональные настройки системы при работе с дробными числами (разделитель — точка или запятая). Мы говорил про это когда вызывали метод : Invariant.Culture


## Примеры задач

### Задача 1: Преобразование строки в целое число

Программа должна безопасно преобразовать строку `"50"` в число и вывести результат.

```csharp
string text = "50";
int.TryParse(text, out int number);
Console.WriteLine(number); // Результат: 50
```

### Задача 2: Преобразование символа в число

Программа должна преобразовать символ `'9'` в число.

```csharp
char digit = '9';
int number = int.Parse(digit.ToString());
Console.WriteLine(number); // Результат: 9
```

### Задача 3: Попытка преобразования строки

Программа должна попробовать преобразовать строку `"hello"` в число. Если преобразование невозможно, переменная принимает значение по умолчанию.

```csharp
string text = "hello";
int.TryParse(text, out int number);
Console.WriteLine(number); // Результат: 0
```

### Задача 4: Преобразование строки с дробным числом

Программа преобразует строку `"3.14"` в вещественное число.

```csharp
string text = "3.14";
double.TryParse(text, out double number);
Console.WriteLine(number); // Результат: 3.14
```

### Задача 5: Проверка числового значения символа

Программа определяет числовое значение символа `'B'`.

```csharp
char letter = 'B';
Console.WriteLine((int)letter); // Результат: 66
```

